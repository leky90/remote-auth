(self.webpackChunkauth=self.webpackChunkauth||[]).push([[155,162],{3356:(e,r,t)=>{t.d(r,{$3:()=>u,hr:()=>o,T5:()=>n,vL:()=>s});var n="https://api-cms.ldktech.com",u=[200,201,204],o={SIGN_UP:"sign-up",FORGOT:"forgot",RECOVER:"recover",NOT_FOUND:"*"},s={AUTH_INDEX:"/",AUTH_SIGN_UP:"/sign-up",OVERVIEW_INDEX:"/dashboard",DASHBOARD_PROFILE:"/dashboard/profile",SYSTEM_INDEX:"/dashboard/system",CRM_INDEX:"/dashboard/crm",ECOM_INDEX:"/dashboard/ecommerce",NOT_FOUND:"*"}},1162:(e,r,t)=>{t.r(r),t.d(r,{axiosInstance:()=>i,queryClient:()=>a,useGetProfileQuery:()=>f,useGetUsersQuery:()=>l,useSignInMutation:()=>c});var n=t(8911),u=t(3356),o=t(2318),s=t(8430),a=new o.QueryClient({defaultOptions:{queries:{retry:0}}}),i=s.default.create({baseURL:u.T5,timeout:1e3});function c(){return{signInMutation:(0,o.useMutation)({mutationFn:function(e){return i.post(u.T5+"/v1/auth/sign-in",e)}})}}function p(){return p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p.apply(this,arguments)}function f(e){return(0,o.useQuery)(p({},e,{queryKey:["profile"],queryFn:function(){return i.get(u.T5+"/v1/auth/profile")}}))}function h(){return h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},h.apply(this,arguments)}function l(e,r){return void 0===e&&(e={page:1,limit:10}),(0,o.useQuery)(h({},r,{queryKey:["users",e.page,e.limit],queryFn:function(){return i.get(u.T5+"/v1/users",{params:e})}}))}i.interceptors.request.use((function(e){var r;return e.headers.Authorization="Bearer "+(null==(r=n.useAuthStore.getState().auth)?void 0:r.accessToken),e}),(function(e){return console.log("request error",e),Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){var r;return 401===(null==(r=e.response)?void 0:r.status)&&n.useAuthStore.setState({auth:void 0}),Promise.reject(e)}))}}]);